<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>API de Datas</title>
</head>
<body>
<h1>Testar API de Datas</h1>

<!-- Conversor de Data -->
<div>
    <h3>Conversor de Data</h3>
    <input type="text" id="dateInput" placeholder="Digite uma data ou deixe vazio">
    <input type="text" id="timezoneInput" placeholder="Fuso horário (opcional)">
    <button onclick="convertDate()">Converter</button>
    <pre id="convertResult"></pre>
</div>

<!-- Calculadora de Diferença -->
<div>
    <h3>Calculadora de Diferença</h3>
    <input type="text" id="startDate" placeholder="Data inicial">
    <input type="text" id="endDate" placeholder="Data final">
    <button onclick="calculateDiff()">Calcular Diferença</button>
    <pre id="diffResult"></pre>
</div>

<script>
async function convertDate() {
    const date = document.getElementById('dateInput').value;
    const tz = document.getElementById('timezoneInput').value;
    const response = await fetch(`/api/${date}?tz=${tz}`);
    const result = await response.json();
    document.getElementById('convertResult').innerText = JSON.stringify(result, null, 2);
}

async function calculateDiff() {
    const startDate = document.getElementById('startDate').value;
    const endDate = document.getElementById('endDate').value;
    const response = await fetch(`/api/diff/${startDate}/${endDate}`);
    const result = await response.json();
    document.getElementById('diffResult').innerText = JSON.stringify(result, null, 2);
}
</script>
</body>
</html>
